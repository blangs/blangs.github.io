---
title:  "ì›ê²©ê³„ì •ì•¡ì„¸ìŠ¤ (SSSD: ì‹œìŠ¤í…œ ë³´ì•ˆ ì„œë¹„ìŠ¤ ë°ëª¬)"
excerpt: "ì›ê²©ê³„ì •ì•¡ì„¸ìŠ¤ (SSSD: ì‹œìŠ¤í…œ ë³´ì•ˆ ì„œë¹„ìŠ¤ ë°ëª¬) ì…ë‹ˆë‹¤."

categories:
  - linux
tags:
  - [Linux, Ubuntu, Raspbian]

toc: true
toc_sticky: true

last_modified_at: 2023-08-09T20:00:00-05:00
---

## ìš”ì•½
íŠ¹ì •ë””ë ‰í† ë¦¬ì— ê±¸ë¦° ì†Œìœ ìê°€ etc ë””ë ‰í† ë¦¬ ë‚´ë¶€ì˜ passwd, group ì•ˆì— ì—†ëŠ” ê²½ìš° SSSD ë¼ëŠ” ê°œë…ì´ ìˆë‹¤ëŠ”ê²ƒì„ ì•Œê²Œë˜ì—ˆë‹¤.  

> â—ì›ê²© ì„œë¹„ìŠ¤(NSS, SSSD) ì¤‘ì—ì„œ í•˜ë‚˜ì˜ ë°©ë²•ì´ë‹¤.  
> ğŸ’¡ ì°¸ê³ )  
> [https://access.redhat.com/documentation/ko-kr/red_hat_enterprise_linux/7/html/system-level_authentication_guide/index](https://access.redhat.com/documentation/ko-kr/red_hat_enterprise_linux/7/html/system-level_authentication_guide/index)


## SSSD(ì‹œìŠ¤í…œ ë³´ì•ˆ ì„œë¹„ìŠ¤ ë°ëª¬)  
- ***SSD(ì‹œìŠ¤í…œ ë³´ì•ˆ ì„œë¹„ìŠ¤ ë°ëª¬)***ëŠ” ì›ê²© ë””ë ‰í„°ë¦¬ ë° ì¸ì¦ ë©”ì»¤ë‹ˆì¦˜ì— ì•¡ì„¸ìŠ¤í•˜ê¸° ìœ„í•œ ì‹œìŠ¤í…œ ì„œë¹„ìŠ¤. 
- ë¡œì»¬ ì‹œìŠ¤í…œ(SSSD í´ë¼ì´ì–¸íŠ¸)ì„ ì™¸ë¶€ ë°±ì—”ë“œ ì‹œìŠ¤í…œ(í”„ë¡œë°”ì´ë”)ì— ì—°ê²°í•œë‹¤. 
- ì´ë ‡ê²Œ í•˜ë©´ SSSD í´ë¼ì´ì–¸íŠ¸ê°€ SSSD ê³µê¸‰ìë¥¼ ì‚¬ìš©í•˜ì—¬ ID ë° ì¸ì¦ ì›ê²© ì„œë¹„ìŠ¤ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆë‹¤. (ì›ê²© ì„œë¹„ìŠ¤ ì˜ˆì‹œ ì•„ë˜ì°¸ê³ .)
    - LDAP ë””ë ‰í„°ë¦¬
    - IdM(Identity Management)
    - AD(Active Directory) ë„ë©”ì¸ 
    - Kerberos ì˜ì—­



## SSSD ë™ì‘
1. í´ë¼ì´ì–¸íŠ¸ë¥¼ ID ì €ì¥ì†Œì— ì—°ê²°í•˜ì—¬ ì¸ì¦ ì •ë³´ë¥¼ ê²€ìƒ‰í•œë‹¤.  
2. ê°€ì ¸ì˜¨ ì¸ì¦ ì •ë³´ë¥¼ ì‚¬ìš©í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì‚¬ìš©ì ë° ìê²© ì¦ëª…ì˜ ë¡œì»¬ ìºì‹œë¥¼ ìƒì„±í•œë‹¤.  
3. ê·¸ëŸ° ë‹¤ìŒ ë¡œì»¬ ì‹œìŠ¤í…œì˜ ì‚¬ìš©ìëŠ” ì™¸ë¶€ ë°±ì—”ë“œ ì‹œìŠ¤í…œì— ì €ì¥ëœ ì‚¬ìš©ì ê³„ì •ì„ ì‚¬ìš©í•˜ì—¬ ì¸ì¦í•  ìˆ˜ ìˆë‹¤.  
  
> â—***íŠ¹ì§•***  
> ğŸ’¡ SSSDëŠ” ë¡œì»¬ ì‹œìŠ¤í…œì—ì„œ ì‚¬ìš©ì ê³„ì •ì„ ìƒì„±í•˜ì§€ ì•ŠëŠ”ë‹¤.  
> ğŸ’¡ ëŒ€ì‹  ì™¸ë¶€ ë°ì´í„° ì €ì¥ì†Œì˜ IDë¥¼ ì‚¬ìš©í•˜ê³  ì‚¬ìš©ìê°€ ë¡œì»¬ ì‹œìŠ¤í…œì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.  
> ğŸ’¡ SSSDëŠ” NSS(Name Service Switch) ë˜ëŠ” PAM(Pluggable Authentication Modules)ê³¼ ê°™ì€ ì—¬ëŸ¬ ì‹œìŠ¤í…œ ì„œë¹„ìŠ¤ì— ëŒ€í•œ ìºì‹œë¥¼ ì œê³µí•  ìˆ˜ë„ ìˆë‹¤.  



## SSSD ì¥ì 
1. ID ë° ì¸ì¦ ì„œë²„ì— ëŒ€í•œ ë¡œë“œ ê°ì†Œ
    - ì •ë³´ë¥¼ ìš”ì²­í•  ë•Œ SSSD í´ë¼ì´ì–¸íŠ¸ëŠ” ìºì‹œë¥¼ í™•ì¸í•˜ëŠ” SSSDì— ë¬¸ì˜í•œë‹¤. SSSDëŠ” ìºì‹œì—ì„œ ì •ë³´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ê²½ìš°ì—ë§Œ ì„œë²„ì— ì—°ê²°í•œë‹¤.

2. ì˜¤í”„ë¼ì¸ ì¸ì¦
    - SSSDëŠ” ì„ íƒì ìœ¼ë¡œ ì›ê²© ì„œë¹„ìŠ¤ì—ì„œ ê²€ìƒ‰ëœ ì‚¬ìš©ì ID ë° ìê²© ì¦ëª…ì˜ ìºì‹œë¥¼ ìœ ì§€í•œë‹¤. 
    - ì´ ì„¤ì •ì—ì„œëŠ” ì›ê²© ì„œë²„ ë˜ëŠ” SSSD í´ë¼ì´ì–¸íŠ¸ê°€ ì˜¤í”„ë¼ì¸ ìƒíƒœì¸ ê²½ìš°ì—ë„ ì‚¬ìš©ìê°€ ë¦¬ì†ŒìŠ¤ì— ì„±ê³µì ìœ¼ë¡œ ì¸ì¦í•  ìˆ˜ ìˆë‹¤. 

3. ë‹¨ì¼ ì‚¬ìš©ì ê³„ì •(ì¸ì¦ í”„ë¡œì„¸ìŠ¤ì˜ ì¼ê´€ì„± í–¥ìƒ)  
    - SSSDì—ì„œëŠ” ì˜¤í”„ë¼ì¸ ì¸ì¦ì„ ìœ„í•´ ì¤‘ì•™ ê³„ì •ê³¼ ë¡œì»¬ ì‚¬ìš©ì ê³„ì •ì„ ëª¨ë‘ ìœ ì§€ ê´€ë¦¬í•  í•„ìš”ê°€ ì—†ë‹¤.
    - ì›ê²© ì‚¬ìš©ìì—ê²ŒëŠ” ì¢…ì¢… ì—¬ëŸ¬ ì‚¬ìš©ì ê³„ì •ì´ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ VPN(ê°€ìƒ ì‚¬ì„¤ ë„¤íŠ¸ì›Œí¬)ì— ì—°ê²°í•˜ë ¤ë©´ ì›ê²© ì‚¬ìš©ìëŠ” ë¡œì»¬ ì‹œìŠ¤í…œì„ ìœ„í•œ í•˜ë‚˜ì˜ ê³„ì •ê³¼ VPN ì‹œìŠ¤í…œì˜ ë‹¤ë¥¸ ê³„ì •ì„ ë³´ìœ í•œë‹¤.
    - ì›ê²© ì‚¬ìš©ìëŠ” ìºì‹± ë° ì˜¤í”„ë¼ì¸ ì¸ì¦ìœ¼ë¡œ ê°„ë‹¨í•˜ê²Œ ë¡œì»¬ ì‹œìŠ¤í…œì— ì¸ì¦í•˜ì—¬ ë„¤íŠ¸ì›Œí¬ ë¦¬ì†ŒìŠ¤ì— ì—°ê²°í•  ìˆ˜ ìˆë‹¤. ***ê·¸ëŸ° ë‹¤ìŒ SSSDì—ì„œ ë„¤íŠ¸ì›Œí¬ ìê²© ì¦ëª…ì„ ìœ ì§€í•œë‹¤.***



## ì„œë¹„ìŠ¤ êµ¬ì„±: NSS
> â—***SSSDê°€ NSSë¡œ ì‘ë™í•˜ëŠ” ë°©ë²•***  
> ğŸ’¡ NSS(Name Service Switch) ì„œë¹„ìŠ¤ëŠ” êµ¬ì„± ì†ŒìŠ¤ì™€ í•¨ê»˜ ì‹œìŠ¤í…œ ID ë° ì„œë¹„ìŠ¤ë¥¼ ë§¤í•‘í•œë‹¤.  
> ğŸ’¡ ì—¬ê¸°ì—ì„œëŠ” ì„œë¹„ìŠ¤ê°€ ë‹¤ì–‘í•œ êµ¬ì„± ë° ì´ë¦„ í™•ì¸ ë©”ì»¤ë‹ˆì¦˜ì˜ ì†ŒìŠ¤ë¥¼ ê²€ìƒ‰í•  ìˆ˜ ìˆëŠ” ì¤‘ì•™ êµ¬ì„± ì €ì¥ì†Œë¥¼ ì œê³µí•œë‹¤.  
> ğŸ’¡ SSSDëŠ” NSS ë§µì˜ ê³µê¸‰ìë¡œ NSSë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.  
>   
> â—***ê°€ì¥ ì¤‘ìš”í•œ ë‚´ìš©***  
> ğŸ’¡ ì‚¬ìš©ì ì •ë³´( passwd ë§µ)  
> ğŸ’¡ ê·¸ë£¹( ê·¸ë£¹ ë§µ)  
> ğŸ’¡ netgroups( netgroups ë§µ)  
> ğŸ’¡ ì„œë¹„ìŠ¤( ì„œë¹„ìŠ¤ ë§µ)  
  

    
## SSSD ì„¤ì¹˜

```
yum install sssd
```
  
## SSSDë¥¼ ì‚¬ìš©í•˜ë„ë¡ NSS ì„œë¹„ìŠ¤ êµ¬ì„±
### 1. authconfigÂ ìœ í‹¸ë¦¬í‹°ë¥¼ ì‚¬ìš©í•˜ì—¬ SSSDë¥¼ í™œì„±í™” í•œë‹¤.

```bash
authconfig --enablesssd --update
```

ìœ„ì²˜ëŸ¼ í•˜ë©´Â /etc/nsswitch.confÂ íŒŒì¼ì´ ì—…ë°ì´íŠ¸ë˜ì–´ ì•„ë˜ NSS ë§µì—ì„œ SSSDë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```bash
vi /etc/nsswitch.confÂ 

passwd: files sss 
shadow: files sss 
group: files sss 

netgroup: files sss
```

### 2. sssÂ ë¥¼Â ì„œë¹„ìŠ¤Â ë§µ ì¤„ì— ì¶”ê°€

```bash
services: files sss
```


## NSSë¡œ ì‘ë™í•˜ë„ë¡ SSSD êµ¬ì„±
> â—***ë‚˜ì˜ ê²½ìš°***  
> ğŸ’¡ ë‚˜ì˜ íˆ¬ì…í™˜ê²½ì—ëŠ” sssd ê°€ ì„¤ì¹˜ë˜ì–´ ìˆëŠ”ë°ë„ /etc/sssd ë””ë ‰í† ë¦¬ê°€ ë³´ì´ì§€ ì•Šì•˜ë‹¤.
>   
> ```bash
> # ì„¤ì¹˜í™•ì¸
> sudo yum list installed | grep sssd  #(CentOS, RHEL) í™˜ê²½
> 
> # ì„¤ì¹˜ìœ„ì¹˜ í™•ì¸
> which sssd  #ê²°ê³¼ëŠ” no sssd in...
> 
> ```
  
ì¼ë‹¨.. ë‚˜ì˜ í™˜ê²½ë¬¸ì œëŠ” ì œì™¸í•˜ê³  ê¸°ë³¸ì ìœ¼ë¡œ ì‚¬ìš© ê°€ì´ë“œë¥¼ ì‘ì„±í•˜ê² ë‹¤.  
{: .notice--info}

  
  
### 1. [sssd] ì„¹ì…˜ì—ì„œ NSSê°€ SSSDì™€ í•¨ê»˜ ì‘ë™í•˜ëŠ” ì„œë¹„ìŠ¤ ì¤‘ í•˜ë‚˜ë¡œ ë‚˜ì—´ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸

```bash
vi /etc/sssd/sssd.conf

[sssd] 
[... file truncated ...] 
services = nss, pam     # ì´ ì¤„ì˜ ë‚´ìš©ì²˜ëŸ¼  'nss' ë¶€ë¶„ì´ ë‚˜ì—´ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤.

```


### 2. [nss]Â ì„¹ì…˜ì—ì„œ SSSDê°€ NSSì™€ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ë°©ë²•ì„ êµ¬ì„±

```bash
vi /etc/sssd/sssd.conf

# ì´ ì‚¬ìš©ê°€ëŠ¥í•œ ì˜µì…˜ ì„¤ì •ê°€ì´ë“œëŠ” ë³„ë„ ë¦¬ì„œì¹˜ í•„ìš”.
[nss] 
filter_groups = root 
filter_users = root 
entry_cache_timeout = 300 
entry_cache_nowait_percentage = 75

```

### 3. SSSD ì¬ê¸°ë™

```bash
systemctl restart sssd.service

````


## [ìµœì¢…] í†µí•© ì‘ë™ í…ŒìŠ¤íŠ¸

```bash
# 1. ì‚¬ìš©ìë¡œ ë¡œê·¸ì¸. 
# 2. sssctl user-checks user_name auth ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ SSSD êµ¬ì„±ì„ í™•ì¸
sssctl user-checks user_name auth

```

