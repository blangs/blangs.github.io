---
title:  "ìŠ¤í”„ë§ ì—ëŸ¬ì²˜ë¦¬(1) ì „ì—­ì²˜ë¦¬ì™€ ê³µí†µì½”ë“œ ê´€ë¦¬ ë° ì»¤ìŠ¤í…€ì²˜ë¦¬"
excerpt: "ìŠ¤í”„ë§ ì—ëŸ¬ì²˜ë¦¬(1) ì…ë‹ˆë‹¤."

categories:
  - spring
tags:
  - [spring, í”„ë ˆì„ì›Œí¬]

toc: true
toc_sticky: true

last_modified_at: 2024-07-20T13:17:00-17:00:00
---


## ê°œìš”
> â—<span style='color:green'>***ì—ëŸ¬ì½”ë“œë¥¼ êµ¬ì¡°í™”í•˜ê³  ì‹¶ë‹¤.***</span>  

## AS-IS  
### SysException.java
```java
public class SysException extends RuntimeException 
{
	private static final Logger logger = LoggerFactory.getLogger(SysException.class);
	
	//Enum ì—ëŸ¬ì½”ë“œ í´ë˜ìŠ¤
	private final SysErrorCode errorCode;  
    
    //Constructor1: (ì»¤ìŠ¤í…€ì—ëŸ¬ì„¸ë©”ì§€ë§Œ)
    public SysException(SysErrorCode errorCode) {
    	super(errorCode.getMessage());
        this.errorCode = errorCode;
    }

    //Constructor2: (ì»¤ìŠ¤í…€ì—ëŸ¬ì„¸ë©”ì§€ + ì˜¤ë¦¬ì§€ë„ì—ëŸ¬ë©”ì„¸ì§€)
    public SysException(SysErrorCode errorCode, Throwable e) {
        super(errorCode.getMessage(), e);
        this.errorCode = errorCode;
        
        logOriginalException(e);
    }

    //[ì»¤ìŠ¤í…€ë©”ì„¸ì§€]ì™€ [ì˜¤ë¦¬ì§€ë‚ ìµì…‰ì…˜]ë‚´ìš©ì„ ëª¨ë‘ ì¶œë ¥.
    private void logOriginalException(Throwable e) {
	    logger.error("[custom Exception SysErrorCode.getMessage()]: {}", errorCode.getMessage()); //ì»¤ìŠ¤í…€ ë‚´ìš©
	    logger.error("[org Exception name]: {}", e.getClass().getName()); //(ë™ì¼)e.printStackTrace();
	    logger.error("[org Exception message]: {}", e.getMessage()); //ì˜¤ë¦¬ì§€ë‚  ìµì…‰ì…˜ ë‚´ìš©
	    logger.error("[org Exception stackTrace]: {}", e.getStackTrace()); //ì˜¤ë¦¬ì§€ë‚  ìµì…‰ì…˜ ë‚´ìš©
    }
    
    
    
    public SysErrorCode getErrorCode() {
        return errorCode;
    }
    
}

```

> â—<span style='color:green'>***Exception ì— ë¡œê·¸ë§Œ ì°ëŠ” ìˆ˜ì¤€***</span>  
> ğŸ’¡ <span style='color:blue'>**ì´ì „ì— ìµì…‰ì…˜ì´ ë°œìƒí•˜ë©´ ë¬¸ìì—´ ì¶”ê°€í•œ ë¡œê·¸ì˜ ë‚´ìš©ì„ì°ëŠ” ìˆ˜ì¤€ì´ë‹¤.**</span>  



## TO-BE
### GlobalExceptionHandler.java : Exception ì „ì—­ ì²˜ë¦¬
```java
/*
	 * 1. ëª¨ë“  ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ë°œìƒí•˜ëŠ” (@ControllerAdvice ìœ¼ë¡œ ì¸í•´. ì»´í¬ë„ŒíŠ¸ìŠ¤ìº”ê³¼ í•¨ê»˜ ì‚¬ìš©ë˜ë¯€ë¡œ Beanì£¼ì…ì´ ë˜ì–´ìˆìŒ.) 
	 * 2. ìµì…‰ì…˜ë“¤ì„ @ExceptionHandler(í´ë˜ìŠ¤ëª…) ìœ¼ë¡œ í•„í„°ë§ë˜ì–´ ì„ í–‰ì²˜ë¦¬ ëœë‹¤.
*/
@ControllerAdvice
@Slf4j
public class GlobalExceptionHandler {

	/** javax.validation.Valid or @Validated ìœ¼ë¡œ binding error ë°œìƒì‹œ ë°œìƒí•œë‹¤. **/
    @ExceptionHandler(MethodArgumentNotValidException.class)
    protected ResponseEntity<ErrorResponse> handleMethodArgumentNotValidException(MethodArgumentNotValidException e) {
        log.error("handleMethodArgumentNotValidException", e);
        final ErrorResponse response = ErrorResponse.of(ErrorCode.INVALID_INPUT_VALUE, e.getBindingResult());
        return new ResponseEntity<>(response, HttpStatus.BAD_REQUEST);
    }
    /** @ModelAttribut ìœ¼ë¡œ binding error ë°œìƒì‹œ BindException ë°œìƒí•œë‹¤. **/
    @ExceptionHandler(BindException.class)
    protected ResponseEntity<ErrorResponse> handleBindException(BindException e) {
        final ErrorResponse response = ErrorResponse.of(ErrorCode.INVALID_INPUT_VALUE, e.getBindingResult());
        return new ResponseEntity<>(response, HttpStatus.BAD_REQUEST);
    }
	/** enum type ì¼ì¹˜í•˜ì§€ ì•Šì•„ binding ëª»í•  ê²½ìš° ë°œìƒ **/
    @ExceptionHandler(MethodArgumentTypeMismatchException.class)
    protected ResponseEntity<ErrorResponse> handleMethodArgumentTypeMismatchException(MethodArgumentTypeMismatchException e) {
        log.error("handleMethodArgumentTypeMismatchException", e);
        final ErrorResponse response = ErrorResponse.of(e);
        return new ResponseEntity<>(response, HttpStatus.BAD_REQUEST);
    }
	/** ì§€ì›í•˜ì§€ ì•Šì€ HTTP method í˜¸ì¶œ í•  ê²½ìš° ë°œìƒ **/
    @ExceptionHandler(HttpRequestMethodNotSupportedException.class)
    protected ResponseEntity<ErrorResponse> handleHttpRequestMethodNotSupportedException(HttpRequestMethodNotSupportedException e) {
        log.error("handleHttpRequestMethodNotSupportedException", e);
        final ErrorResponse response = ErrorResponse.of(ErrorCode.METHOD_NOT_ALLOWED);
        return new ResponseEntity<>(response, HttpStatus.METHOD_NOT_ALLOWED);
    }

	/** Authentication ê°ì²´ê°€ í•„ìš”í•œ ê¶Œí•œì„ ë³´ìœ í•˜ì§€ ì•Šì€ ê²½ìš° ë°œìƒí•© **/
    @ExceptionHandler(AccessDeniedException.class)
    protected ResponseEntity<ErrorResponse> handleAccessDeniedException(AccessDeniedException e) {
        log.error("handleAccessDeniedException", e);
        final ErrorResponse response = ErrorResponse.of(ErrorCode.HANDLE_ACCESS_DENIED);
        return new ResponseEntity<>(response, HttpStatus.valueOf(ErrorCode.HANDLE_ACCESS_DENIED.getStatus()));
    }

    /** [ê·¸ì™¸ ì „ì²´ Exception] ëª¨ë“  Exception ê²½ìš° ë°œìƒ **/
    @ExceptionHandler(Exception.class)
    protected ResponseEntity<ErrorResponse> handleException(Exception ex) {
        //final ErrorResponse response = ErrorResponse.of(ErrorCode.INTERNAL_SERVER_ERROR);
        final ErrorResponse response = ErrorResponse.of(ErrorCode.INTERNAL_SERVER_ERROR, ex.getMessage());
        return new ResponseEntity<>(response, HttpStatus.INTERNAL_SERVER_ERROR);
    }
    
}

```
  
> â—<span style='color:green'>***Exception ì „ì—­ì²˜ë¦¬***</span>  
> ğŸ’¡ <span style='color:blue'>1.**ëª¨ë“  ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ë°œìƒí•˜ëŠ” (@ControllerAdvice ìœ¼ë¡œ ì¸í•´. ì»´í¬ë„ŒíŠ¸ìŠ¤ìº”ê³¼ í•¨ê»˜ ì‚¬ìš©ë˜ë¯€ë¡œ Beanì£¼ì…ì´ ë˜ì–´ìˆìŒ.)**</span>  
> ğŸ’¡ <span style='color:blue'>2.**ìµì…‰ì…˜ë“¤ì„ @ExceptionHandler(í´ë˜ìŠ¤ëª…) ìœ¼ë¡œ í•„í„°ë§ë˜ì–´ ì„ í–‰ì²˜ë¦¬ ëœë‹¤.**</span>  
>   
> â—<span style='color:green'>***Exception Wrapping ì²˜ë¦¬í•˜ì—¬ ì‘ë‹µ***</span>  
> ğŸ’¡ <span style='color:blue'>**ì§ì ‘ë§Œë“  ErrorResponse í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ì—¬ jsoní¬ë§·ìœ¼ë¡œ wrapping í•œë‹¤**</span>  
> ğŸ’¡ <span style='color:blue'>**ê³µí†µ ê·œì•½ëœ ì—ëŸ¬ë©”ì„¸ì§€ë¥¼ ì „ë‹¬ í•  ìˆ˜ ìˆë‹¤.**</span>  
  
1.ì¼ë¶€ì˜ Exception ì„ ê°ì§€í•˜ë„ë¡ ì²˜ë¦¬í•˜ê³ ìˆë‹¤.  
2.ì»¤ìŠ¤í…€í•œ handleCustomException ê°ì§€í•˜ë„ë¡ ì¶”ê°€í•´ì£¼ì—ˆë‹¤.   
3.ê·¸ì™¸ ì „ì²´ Exception.class ìì²´ë¥¼ ì¡ì•„ì„œ ê°ì§€í•˜ë„ë¡ ì¶”ê°€í•´ì£¼ì—ˆë‹¤.  
{: .notice--info}

 
### ErrorResponse.java : Exception ë™ì¼í•œ í¬ë§·ì²˜ë¦¬(Wrapping)
```java
/**
 * Error Response
 * ê°„í˜¹ Map<Key, Value> í˜•ì‹ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ”ë° ì´ëŠ” ì¢‹ì§€ ì•Šë‹¤. 
 * ìš°ì„  Map ì´ë¼ëŠ” ì¹œêµ¬ëŠ” ëŸ°íƒ€ì…ì‹œì— ì •í™•í•œ í˜•íƒœë¥¼ ê°–ì¶”ê¸° ë•Œë¬¸ì— ê°ì²´ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê°œë°œìë“¤ë„ ì •í™•íˆ ë¬´ìŠ¨ í‚¤ì— ë¬´ìŠ¨ ë°ì´í„°ê°€ ìˆëŠ”ì§€ í™•ì¸í•˜ê¸° ì–´ë µë‹¤.
 * ë¦¬í„´ íƒ€ì…ì´ ResponseEntity<ErrorResponse> ìœ¼ë¡œ ë¬´ìŠ¨ ë°ì´í„°ê°€ ì–´ë–»ê²Œ ìˆëŠ”ì§€ ëª…í™•í•˜ê²Œ ì¶”ë¡ í•˜ê¸° ì‰½ë„ë¡ êµ¬ì„±í•˜ëŠ” ê²Œ ë°”ëŒì§í•˜ë‹¤.
 * 
 * ì´ í´ë˜ìŠ¤ì˜ ë‚´ìš©ì„ POJO ê°ì²´ë¡œ ê´€ë¦¬í•˜ë©´ errorResponse.getXXX(); ì´ë ‡ê²Œ ëª…í™•í•˜ê²Œ ê°ì²´ì— ìˆëŠ” ê°’ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤. 
 * ê·¸ ë°–ì— íŠ¹ì • Exceptionì— ëŒ€í•´ì„œ ErrorResponse ê°ì²´ë¥¼ ì–´ë–»ê²Œ ë§Œë“¤ ê²ƒì¸ê°€ì— ëŒ€í•œ ì±…ì„ì„ ëª…í™•í•˜ê²Œ ê°–ëŠ” êµ¬ì¡°ë¡œ ì„¤ê³„í•  ìˆë‹¤.
 */
/**
 * Global Exception Handlerì—ì„œ ë°œìƒí•œ ì—ëŸ¬ì— ëŒ€í•œ ì‘ë‹µ ì²˜ë¦¬ë¥¼ ê´€ë¦¬
 */
@Getter
@NoArgsConstructor(access = AccessLevel.PROTECTED)
public class ErrorResponse {

	private int status;                // ì—ëŸ¬ ìƒíƒœ ì½”ë“œ
	private String code;			   // ì—ëŸ¬ êµ¬ë¶„ ì½”ë“œ
    private String message;            // ì—ëŸ¬ ë©”ì‹œì§€
    private List<FieldError> errors;   // ìƒì„¸ ì—ëŸ¬ ë©”ì‹œì§€
    private String reason;             // ì—ëŸ¬ ì´ìœ  (ì¶”ê°€)


    
    /**********************************************************************************************
     * ìƒì„±ì
     **********************************************************************************************/
    /* ErrorResponse ìƒì„±ì-1*/
    private ErrorResponse(final ErrorCode code) {
        this.message = code.getMessage();
        this.status = code.getStatus();
        this.code = code.getCode();
        this.errors = new ArrayList<>();
    }
    
    /* ErrorResponse ìƒì„±ì-2 */
    protected ErrorResponse(final ErrorCode code, final String reason) {
        this.message = code.getMessage();
        this.status = code.getStatus();
        this.code = code.getCode();
        this.reason = reason;
    }
    
    /* ErrorResponse ìƒì„±ì-3 */
    private ErrorResponse(final ErrorCode code, final List<FieldError> errors) {
        this.message = code.getMessage();
        this.status = code.getStatus();
        this.errors = errors;
        this.code = code.getCode();
    }

    /**********************************************************************************************
     * Global Exception ì „ì†¡ íƒ€ì…
     **********************************************************************************************/
    /* Global Exception ì „ì†¡ íƒ€ì…-1 */
    public static ErrorResponse of(final ErrorCode code, final BindingResult bindingResult) {
        return new ErrorResponse(code, FieldError.of(bindingResult));
    }

    /* Global Exception ì „ì†¡ íƒ€ì…-2 */
    public static ErrorResponse of(final ErrorCode code) {
        return new ErrorResponse(code);
    }

    // ? 
    public static ErrorResponse of(final ErrorCode code, final List<FieldError> errors) {
        return new ErrorResponse(code, errors);
    }

    /* Global Exception ì „ì†¡ íƒ€ì…-3 */
    public static ErrorResponse of(final ErrorCode code, final String reason) {
        return new ErrorResponse(code, reason);
    }

	/** Global Exception ì „ì†¡ íƒ€ì…-4 (enum type ì¼ì¹˜í•˜ì§€ ì•Šì•„ binding ëª»í•  ê²½ìš° ë°œìƒ) **/
    public static ErrorResponse of(MethodArgumentTypeMismatchException e) {
        final String value = e.getValue() == null ? "" : e.getValue().toString();
        final List<ErrorResponse.FieldError> errors = ErrorResponse.FieldError.of(e.getName(), value, e.getErrorCode());
        return new ErrorResponse(ErrorCode.INVALID_TYPE_VALUE, errors);
    }
    
    /**********************************************************************************************
     * POJO
	 * ì—ëŸ¬ë¥¼ e.getBindingResult() í˜•íƒœë¡œ ì „ë‹¬ ë°›ëŠ” ê²½ìš° í•´ë‹¹ ë‚´ìš©ì„ ìƒì„¸ ë‚´ìš©ìœ¼ë¡œ ë³€ê²½í•˜ëŠ” ê¸°ëŠ¥ì„ ìˆ˜í–‰í•œë‹¤.
	 * ì´ í´ë˜ìŠ¤ì˜ ë‚´ìš©ì„ POJO ê°ì²´ë¡œ ê´€ë¦¬í•˜ë©´ errorResponse.getXXX(); ì´ë ‡ê²Œ ëª…í™•í•˜ê²Œ ê°ì²´ì— ìˆëŠ” ê°’ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤. 
     **********************************************************************************************/
    @Getter
    @NoArgsConstructor(access = AccessLevel.PROTECTED)// ìƒì„±ìë¥¼ í†µí•´ì„œ ê°’ ë³€ê²½ ëª©ì ìœ¼ë¡œ ì ‘ê·¼í•˜ëŠ” ë©”ì‹œì§€ë“¤ ì°¨ë‹¨ ì–´ë…¸í…Œì´ì…˜
    public static class FieldError {
        private String field;
        private String value;
        private String reason;

        private FieldError(final String field, final String value, final String reason) {
            this.field = field;
            this.value = value;
            this.reason = reason;
        }

        public static List<FieldError> of(final String field, final String value, final String reason) {
            List<FieldError> fieldErrors = new ArrayList<>();
            fieldErrors.add(new FieldError(field, value, reason));
            return fieldErrors;
        }

		/**
		 * ì•„ë˜ ì½”ë“œì™€ ë™ì¼í•œ íš¨ê³¼
		 * 
		 * List<FieldError> fieldErrorList = Arrays.asList(
   		 * new FieldError("username", "", "Username cannot be empty"),
    	 * new FieldError("age", "-1", "Age must be positive")
		 * );
		 */
        private static List<FieldError> of(final BindingResult bindingResult) {
            final List<org.springframework.validation.FieldError> fieldErrors = bindingResult.getFieldErrors();
            return fieldErrors.stream()
                    .map(error -> new FieldError(
                            error.getField(),
                            error.getRejectedValue() == null ? "" : error.getRejectedValue().toString(),
                            error.getDefaultMessage()))
                    .collect(Collectors.toList());
        }
    }
}

```

> â—<span style='color:green'>***Exception Wrapping ì²˜ë¦¬***</span>  
> ğŸ’¡ <span style='color:blue'>1.**ìƒì„±ìë¥¼ ë§Œë“¤ê³ **</span>  
> ğŸ’¡ <span style='color:blue'>2.**ErrorResponseê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ëª©ì ì˜ ì—¬ëŸ¬ ë©”ì†Œë“œë¥¼ ë§Œë“ ë‹¤. (ë©”ì†Œë“œëŠ” ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ì—¬ ì´ˆê¸°í™”)**</span>  
> ğŸ’¡ <span style='color:blue'>3.**ê·¸ ì¤‘ BindingResult í˜•íƒœë¡œ ë©”ì†Œë“œê°€ í˜¸ì¶œë˜ë©´ POJOì˜ FieldError ê¸°ëŠ¥ìœ¼ë¡œ ì¡°ë¦½í•˜ì—¬ ìƒì„¸í•œ ë‚´ìš©ì„ ë¦¬í„´í•œë‹¤.**</span>  
>   
> â—<span style='color:green'>***BindingResultëŠ” ë­˜ê¹Œ***</span>  
> ![ì‚¬ì§„1](/assets/images/WebProgramming/Spring/spring-error-bindingresult.png)  
> ğŸ’¡ <span style='color:blue'>1.**ì˜ˆë¥¼ë“¤ì–´ @Valid ì˜ ê²½ìš°ì—ëŠ” MethodArgumentNotValidException ì„ ë°œìƒì‹œí‚¨ë‹¤.**</span>  
> ğŸ’¡ <span style='color:blue'>2.**MethodArgumentNotValidException ì—ëŠ” ì—¬ëŸ¬ ê°’ë“¤ì´ ìˆìœ¼ë©°, ê·¸ ì¤‘ BindingResult ë¼ëŠ” ê°ì²´ì— ì˜ˆì™¸ì— ëŒ€í•œ ì¢€ ë” ìì„¸í•˜ê³  ë§ì€ ì •ë³´ë“¤ì´ ë‹´ê²¨ìˆë‹¤.**</span>  
> ğŸ’¡ <span style='color:blue'>3.**BindingResult ê°ì²´ ì•ˆì—ì„œ error ì™€ ê´€ë ¨ëœ í•„ìš”í•œ ê°’ì„ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ BindingResult.getFieldErrors() ë©”ì†Œë“œë¥¼ ì´ìš©í•˜ì—¬ BindingResult ê°€ ê°–ê³  ìˆëŠ” errors ë¥¼ FieldError ë¼ëŠ” ê°ì²´ í˜•íƒœë¡œ ë°˜í™˜ë°›ê³ **</span>  
> ğŸ’¡ <span style='color:blue'>4.**FieldError ê°ì²´ì—ì„œ í•„ìš”í•œ ê°’ë“¤ì„ ì‚¬ìš©ì(ê°œë°œì) ê°€ ì •ì˜í•œ ì˜ˆì™¸ ê°ì²´ì— ë§¤í•‘í•˜ì—¬ ì‚¬ìš©í•œë‹¤.**</span>  
>   - Field : ê°ì²´ì—ì„œ ì˜ˆì™¸ê°€ ë°œìƒí•œ field
>   - RejectedValue : ì–´ë–¤ ê°’ìœ¼ë¡œ ì¸í•´ ì˜ˆì™¸ê°€ ë°œìƒí•˜ì˜€ëŠ”ì§€
>   - DefaultMessage : í•´ë‹¹ ì˜ˆì™¸ê°€ ë°œìƒí–ˆì„ ë•Œ ì œê³µí•  message ëŠ” ë¬´ì—‡ì¸ì§€
>         
  
1.í•µì‹¬ì€ ErrorCodeë¼ëŠ” Enumì„ ë°›ì•„ì„œ í•´ë‹¹ classë¥¼ ìƒì„±í•˜ë„ë¡ êµ¬í˜„í•œë‹¤.  
2.Enumì„ í†µí•´ì„œ í•œëˆˆì— ë³¼ ìˆ˜ ìˆìœ¼ë©° ë¦¬í„´ëœ ë‚´ìš©ì˜ í˜•ì‹ì´ ì¼ì¹˜í•œë‹¤.  
3.BindingResultëŠ” Spring Frameworkì—ì„œ í¼ íƒœê·¸ ê²€ì¦ ê²°ê³¼ë¥¼ ë‹´ê³  ìˆëŠ” ê°ì²´ë¡œ, ì£¼ë¡œ e.getBindingResult() í˜•íƒœë¡œ ë“¤ì–´ì˜¨ë‹¤.  
{: .notice--info}


### ErrorCode.java : EnumModel Interface êµ¬í˜„í•œ ê³µí†µì½”ë“œ
```java
/**
 * [ê³µí†µ ì½”ë“œ] API í†µì‹ ì— ëŒ€í•œ 'ì—ëŸ¬ ì½”ë“œ'ë¥¼ Enum í˜•íƒœë¡œ ê´€ë¦¬ë¥¼ í•œë‹¤.
 * Global Error CodeList : ì „ì—­ìœ¼ë¡œ ë°œìƒí•˜ëŠ” ì—ëŸ¬ì½”ë“œë¥¼ ê´€ë¦¬í•œë‹¤.
 * Custom Error CodeList : ì—…ë¬´ í˜ì´ì§€ì—ì„œ ë°œìƒí•˜ëŠ” ì—ëŸ¬ì½”ë“œë¥¼ ê´€ë¦¬í•œë‹¤
 * Error Code Constructor : ì—ëŸ¬ì½”ë“œë¥¼ ì§ì ‘ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ìƒì„±ìë¥¼ êµ¬ì„±í•œë‹¤.
 */
@JsonFormat(shape = JsonFormat.Shape.OBJECT)
public enum ErrorCode {
	
    /**
     * ******************************* Global Error CodeList ***************************************
     * HTTP Status Code
     * 400 : Bad Request
     * 401 : Unauthorized
     * 403 : Forbidden
     * 404 : Not Found
     * 500 : Internal Server Error
     * *********************************************************************************************
     */
    // ì˜ëª»ëœ ì„œë²„ ìš”ì²­
    BAD_REQUEST_ERROR(400, "G001", "Bad Request Exception"),

    // @RequestBody ë°ì´í„° ë¯¸ ì¡´ì¬
    REQUEST_BODY_MISSING_ERROR(400, "G002", "Required request body is missing"),

    // ìœ íš¨í•˜ì§€ ì•Šì€ íƒ€ì…
    INVALID_TYPE_VALUE(400, "G003", " Invalid Type Value"),

    // Request Parameter ë¡œ ë°ì´í„°ê°€ ì „ë‹¬ë˜ì§€ ì•Šì„ ê²½ìš°
    MISSING_REQUEST_PARAMETER_ERROR(400, "G004", "Missing Servlet RequestParameter Exception"),

    // ì…ë ¥/ì¶œë ¥ ê°’ì´ ìœ íš¨í•˜ì§€ ì•ŠìŒ
    IO_ERROR(400, "G008", "I/O Exception"),

    // com.google.gson JSON íŒŒì‹± ì‹¤íŒ¨
    JSON_PARSE_ERROR(400, "G009", "JsonParseException"),

    // com.fasterxml.jackson.core Processing Error
    JACKSON_PROCESS_ERROR(400, "G010", "com.fasterxml.jackson.core Exception"),

    // ê¶Œí•œì´ ì—†ìŒ
    FORBIDDEN_ERROR(403, "G004", "Forbidden Exception"),

    // ì„œë²„ë¡œ ìš”ì²­í•œ ë¦¬ì†ŒìŠ¤ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŒ
    NOT_FOUND_ERROR(404, "G005", "Not Found Exception"),

    // NULL Point Exception ë°œìƒ
    NULL_POINT_ERROR(404, "G006", "Null Point Exception"),

    // @RequestBody ë° @RequestParam, @PathVariable ê°’ì´ ìœ íš¨í•˜ì§€ ì•ŠìŒ
    NOT_VALID_ERROR(404, "G007", "handle Validation Exception"),

    // @RequestBody ë° @RequestParam, @PathVariable ê°’ì´ ìœ íš¨í•˜ì§€ ì•ŠìŒ
    NOT_VALID_HEADER_ERROR(404, "G007", "Headerì— ë°ì´í„°ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²½ìš° "),

    // ì„œë²„ê°€ ì²˜ë¦¬ í•  ë°©ë²•ì„ ëª¨ë¥´ëŠ” ê²½ìš° ë°œìƒ
    INTERNAL_SERVER_ERROR(500, "G999", "Internal Server Error Exception"),

    // ì„œë²„ê°€ ì²˜ë¦¬ í•  ë°©ë²•ì„ ëª¨ë¥´ëŠ” ê²½ìš° ë°œìƒ
    //NOT_AVAILABLE_EMAIL_SERVICE(500, "G999", "NHN cloud service is not available."),
    
    AUTH_IS_NULL(200, "A404", "AUTH_IS_NULL"),                // A404
    AUTH_TOKEN_FAIL(200, "A405", "AUTH_TOKEN_FAIL"),            // A405
    AUTH_TOKEN_INVALID(200, "A406", "AUTH_TOKEN_INVALID"),            // A406
    AUTH_TOKEN_NOT_MATCH(200, "A407", "AUTH_TOKEN_NOT_MATCH"),        // A407
    AUTH_TOKEN_IS_NULL(200, "A408", "AUTH_TOKEN_IS_NULL"),        // A408
    

    
	/**
     * ******************************* Custom Error CodeList ***************************************
     */
    // Common
    INVALID_INPUT_VALUE(400, "C001", " Invalid Input Value"),
    METHOD_NOT_ALLOWED(405, "C002", " Invalid Input Value"),
    ENTITY_NOT_FOUND(400, "C003", " Entity Not Found"),
    //INTERNAL_SERVER_ERROR(500, "C004", "Server Error"),
    //INVALID_TYPE_VALUE(400, "C005", " Invalid Type Value"),
    HANDLE_ACCESS_DENIED(403, "C006", "Access is Denied"),

    // Member
    EMAIL_DUPLICATION(400, "M001", "Email is Duplication"),
    LOGIN_INPUT_INVALID(400, "M002", "Login input is invalid"),

    // Coupon
    COUPON_ALREADY_USE(400, "CO001", "Coupon was already used"),
    COUPON_EXPIRE(400, "CO002", "Coupon was already expired"), 
    
    // Business Exception Error
    BUSINESS_EXCEPTION_ERROR(200, "B999", "Business Exception Error"),

    // Transaction Exception Error
    INSERT_ERROR(200, "9999", "Insert Transaction Error Exception"),
    UPDATE_ERROR(200, "9999", "Update Transaction Error Exception"),
    DELETE_ERROR(200, "9999", "Delete Transaction Error Exception"),

    
    
    ;
    /**
     * ******************************* Error Code Constructor ***************************************
     */
	private int status;           // ì—ëŸ¬ ì½”ë“œì˜ 'ì½”ë“œ ìƒíƒœ'ì„ ë°˜í™˜í•œë‹¤.
    private final String code;    // ì—ëŸ¬ ì½”ë“œì˜ 'ì½”ë“œê°„ êµ¬ë¶„ ê°’'ì„ ë°˜í™˜í•œë‹¤.
    private final String message; // ì—ëŸ¬ ì½”ë“œì˜ 'ì½”ë“œ ë©”ì‹œì§€'ì„ ë°˜í™˜í•œë‹¤.

    //ìƒì„±ì
    ErrorCode(final int status, final String code, final String message) {
        this.status = status;
        this.message = message;
        this.code = code;
    }

    public String getMessage() {
        return this.message;
    }

    public String getCode() {
        return code;
    }

    public int getStatus() {
        return status;
    }

    
}

// ì •ì˜í•œ ì£¼ìš” í•„ë“œ
//   - status (HttpStatus),
//   - code (ìì²´ ì •ì˜í•œ ErrorCode),
//   - messsage (Errorë©”ì‹œì§€),

```

> â—<span style='color:green'>***Exception ì—ëŸ¬ì½”ë“œ ê³µí†µ ê´€ë¦¬***</span>  
> ğŸ’¡ <span style='color:blue'>1.**ê° ìœ í˜•ë³„ ì—ëŸ¬ì½”ë“œë¥¼ Enum ìœ¼ë¡œ ìƒì„±**</span>  
> ğŸ’¡ <span style='color:blue'>2.**Exceptionì´ í•„ìš”í•  ë•Œ í¸í•˜ê²Œ ë˜ì ¸ì¤€ë‹¤.**</span>  
> ğŸ’¡ <span style='color:blue'>3.**ExceptionHandler ì—ì„œ ì¡ì•„ì¤„ ê²ƒì´ë‹¤.**</span>  




## êµ¬í˜„ í…ŒìŠ¤íŠ¸
### ì‹¤í–‰
```java
    @ResponseBody
    @RequestMapping(value = "/app/testBindException", method = RequestMethod.GET)
    public String testBindException(@RequestParam(value = "name", required = false) String name) throws IOException {
        try {
            int errorCALL = tB002Service.setInsert(new TB002());
        } catch (Exception e) {
            throw new IOException();
        }
		return "";
    }
	
```


### ì„œë²„ ê²°ê³¼
```bash
# ì „ì—­ì²˜ë¦¬ëœ Exception.class ìœ¼ë¡œ í•„í„°ë§ë˜ì—ˆë‹¤.

[2024-07-21 19:50:14] DEBUG: org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[2024-07-21 19:50:14] ERROR: com.blang.bck.comm.error.GlobalExceptionHandler - Exception
java.io.IOException: null
	at com.blang.bck.web.controller.CmnController.testBindException(CmnController.java:401) ~[classes/:?]
    (ì¤‘ëµ)
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_311]
[2024-07-21 19:50:14] DEBUG: com.blang.bck.comm.error.GlobalExceptionHandler - ===========================================================
[2024-07-21 19:50:14] DEBUG: com.blang.bck.comm.error.GlobalExceptionHandler - [handleException()] ì—¬ê¸°ë¡œ ì˜¤ëŠ”ê°€?!
[2024-07-21 19:50:14] DEBUG: com.blang.bck.comm.error.GlobalExceptionHandler - ===========================================================

```


### ë¸Œë¼ìš°ì € ì‘ë‹µ
```json
// ResponseError ë¥¼ í†µí•´ ì •í˜•í™”ëœ ì‘ë‹µì„ ì£¼ê³ ìˆë‹¤. 
{"status":500,"code":"G999","message":"Internal Server Error Exception"}

```


## ì°¸ê³ ë¸”ë¡œê·¸
- https://cheese10yun.github.io/spring-guide-exception/
- https://github.com/adjh54ir/spring-security-adjh54/tree/develop-main/src/main/java/com/adjh/sprsecurity/model/common
- https://devpoong.tistory.com/90
- https://arinlee.tistory.com/69
- https://velog.io/@waldo/%EC%97%90%EB%9F%AC%EC%B2%98%EB%A6%AC101-Enum%EC%9C%BC%EB%A1%9C-%EC%97%90%EB%9F%AC%EC%BD%94%EB%93%9C-%EA%B4%80%EB%A6%AC%ED%95%98%EA%B8%B0
- 
