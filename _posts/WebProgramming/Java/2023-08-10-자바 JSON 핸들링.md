---
title:  "ìë°” JSON í•¸ë“¤ë§"
excerpt: "ìë°” JSON í•¸ë“¤ë§ ì…ë‹ˆë‹¤."

categories:
  - java
tags:
  - [java]

toc: true
toc_sticky: true

last_modified_at: 2023-08-10T09:00:00-18:00:00
---

## ê¸°ë³¸ì ì¸ JSON êµ¬ì¡°
> â—***JSONì˜ ì¼ë°˜ì ì¸ êµ¬ì¡°***  
> ğŸ’¡ "í‚¤": "ê°’" ìŒìœ¼ë¡œ ì´ë£¨ì–´ì§„ ê°ì²´(object)ì˜ ì§‘í•©  
> ğŸ’¡ "í‚¤"ëŠ” í•´ë‹¹í•˜ëŠ” "ê°’"ì— ë§¤í•‘  
> ğŸ’¡ ê°ì²´ëŠ” ì¤‘ê´„í˜¸ {}ë¡œ ë‘˜ëŸ¬ì‹¸ì—¬ ìˆìŒ.  
> ğŸ’¡ ì—¬ëŸ¬ ê°ì²´ë¥¼ ë°°ì—´ë¡œ ë¬¶ì„ ìˆ˜ë„ ìˆìŒ.  


## depth1(ê°ì²´): í‚¤: ê°’
```json
// ê¸°ë³¸
{
  "status":200,   // ì´ê±° êº¼ë‚´ë³´ì
  "msg":"ì„±ê³µ",    // ì´ê±° êº¼ë‚´ë³´ì
}

```


### í•¸ë“¤ë§ (org.json.simple íŒ¨í‚¤ì§€)
```java
import org.json.simple.parser.JSONParser;
import org.json.simple.JSONObject;
//import org.json.simple.JSONArray;

String strJsonStr = "[ì œì´ìŠ¨ í˜•íƒœ ë°ì´í„°]";

// [org.json.simple íŒ¨í‚¤ì§€]
JSONParser parser = new JSON parser();
JSONObject jsonObject = (JSONObject) parser.parse(strJsonStr);

// ë‹¨ìˆœ ê°ì²´ JSON êº¼ë‚´ê¸°
long lStatus = (long) jsonObject.get("status");
String strStatus = (String) jsonObject.get("status").toString();
String strMsg = (String) jsonObject.get("msg");

``` 


### í•¸ë“¤ë§ (org.json íŒ¨í‚¤ì§€)
```java
import org.json.JSONObject;

String strJsonStr = "[ì œì´ìŠ¨ í˜•íƒœ ë°ì´í„°]";

// [org.json íŒ¨í‚¤ì§€]
JSONObject jsonObject = new JSONObject(strJsonStr);

// ë‹¨ìˆœ ê°ì²´ JSON êº¼ë‚´ê¸°
int iStatus = jsonObject.getInt("status");
String strStatus = Integer.toString(iStatus);
String strMsg = jsonObject.getString("msg");

```

## ì •ë¦¬
> â—***ì„¤ëª…***  
> ğŸ’¡ ë‹¨ìˆœí•œ 1depth í˜•íƒœì´ë‹¤.  
> ğŸ’¡ ê¸°ë³¸ì ì¸ ì‚¬ìš©ë²•ì´ë‹¤.  



## depth1(ë°°ì—´ê°ì²´) í‚¤: [ê°’1,ê°’2,ê°’3]
### JSON í˜•íƒœ
```json
// í‚¤ì˜ ê°’ì´ ë°°ì—´[] í˜•íƒœì´ë‹¤.
{
  "status":200,
  "msg":"ì„±ê³µ",
  "result": [   // ì´ê±° êº¼ë‚´ë³´ì
    "data1",
    "data2",
  ],
}

```
### í•¸ë“¤ë§ (org.json.simple íŒ¨í‚¤ì§€)
```java
import org.json.simple.parser.JSONParser;
import org.json.simple.JSONObject;
import org.json.simple.JSONArray;

String strJsonStr = "[ì œì´ìŠ¨ í˜•íƒœ ë°ì´í„°]";

// [org.json.simple íŒ¨í‚¤ì§€]
JSONParser parser = new JSON parser();
JSONObject jsonObject = (JSONObject) parser.parse(strJsonStr);


// ë‹¨ìˆœë°°ì—´ JSON ê°ì²´ êº¼ë‚´ê¸°
JSONArray jsonArray = jsonObject.get("result");


// ë°©ë²•1 (ê¸°ë³¸ forë¬¸)
for(int i=0; i<jsonArray.size(); i++) {
  String strValue = (String) jsonArray.getString(i);
}

// ë°©ë²•2 (í–¥ìƒëœ forë¬¸)
for(String value: jsonArray) {
  String strValue = (String) value;
}

//ë°©ë²•3 (toListë¡œ ê°ì²´ë¥¼ List ìœ¼ë¡œ ë³€ê²½)
// ì´ íŒ¨í‚¤ì§€ëŠ” í•´ë‹¹ ë©”ì†Œë“œ ì—†ìŒ.

``` 


### í•¸ë“¤ë§ (org.json íŒ¨í‚¤ì§€)
```java
import org.json.JSONObject;
import org.json.JSONArray;

String strJsonStr = "[ì œì´ìŠ¨ í˜•íƒœ ë°ì´í„°]";

// [org.json íŒ¨í‚¤ì§€]
JSONObject jsonObject = new JSONObject(strJsonStr);


// ë‹¨ìˆœë°°ì—´ JSON ê°ì²´ êº¼ë‚´ê¸°
JSONArray jsonArray = jsonObject.getJSONArray("result");

// ë°©ë²•1 (ê¸°ë³¸ forë¬¸)
for(int i=0; i<jsonArray.length(); i++) {
  String strValue = jsonArray.getString(i);
}

// ë°©ë²•2 (í–¥ìƒëœ forë¬¸)
for(String value: jsonArray) {
  String strValue = value;
}

//ë°©ë²•3 (toListë¡œ ê°ì²´ë¥¼ List ìœ¼ë¡œ ë³€ê²½)
String[] strArr = jsonArray.toList().toArray(new String[0]);

for(String value: strArr) {
  String strValue = value;
}


```

### ì •ë¦¬
> â—***ì„¤ëª…***  
> ğŸ’¡ ë‹¨ìˆœí•œ 1depth í˜•íƒœë¡œ ì´ë£¨ì–´ì§„ ë°°ì—´ì´ë‹¤.  
> ğŸ’¡ ê¸°ë³¸ì ì¸ ì‚¬ìš©ë²•ì´ë‹¤.  
> - ê° íŒ¨í‚¤ì§€ ëª¨ë‘ JSONArray ê°ì²´ë¥¼ í™œìš©í•˜ëŠ”ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.




## depth2(ë°°ì—´ì•ˆì— ê°ì²´): í‚¤: [ {í‚¤:ê°’}, {í‚¤:ê°’} ]
### JSON í˜•íƒœ
```json
{
  "status":200,
  "msg":"ì„±ê³µ",
  "result": [
    "data1",
    "data2",
  ],
  "address": [   // ì´ê±° êº¼ë‚´ë³´ì
    {
      "data1" :"ë°ì´í„°1ì˜ ê°’ í™ê¸¸ë™",
      "data2" :"ë°ì´í„°2ì˜ ê°’ í™ê¸¸ë™ì£¼ì†Œ"
    }, 
    {
      "data1" :"ë°ì´í„°1ì˜ ê°’ ë°•ëª…ìˆ˜",
      "data2" :"ë°ì´í„°2ì˜ ê°’ ë°•ëª…ìˆ˜ì£¼ì†Œ"
    }, 
  ]
}

```

> â—***ì ê¹)***  
> ğŸ’¡ address ê°ì²´ê°€ ì¶”ê°€ë˜ì—ˆë‹¤.  
> ğŸ’¡ í‚¤ê°’ì€ ë°°ì—´ì¸ë°, ë°°ì—´ ì•ˆì— ë˜ ê°ì²´ê°€ ë“¤ì–´ìˆë‹¤.  
> ğŸ’¡ í‰ì†Œ ìì£¼ ë³´ë˜ êµ¬ì¡°ë¡œ, ì–¸ì œë‚˜ ë³µì¡í•´ë³´ì´ëŠ” í˜•íƒœë‹¤.  



### í•¸ë“¤ë§ (org.json.simple íŒ¨í‚¤ì§€)
```java
import org.json.simple.parser.JSONParser;
import org.json.simple.JSONObject;
import org.json.simple.JSONArray;

String strJsonStr = "[ì œì´ìŠ¨ í˜•íƒœ ë°ì´í„°]";

// [org.json.simple íŒ¨í‚¤ì§€]
JSONParser parser = new JSONParser();
JSONObject jsonObject = (JSONObject) parser.parse(strJsonStr);


// ê°ì²´ë¡œ ì´ë£¨ì–´ì§„ ë°°ì—´ JSON êº¼ë‚´ê¸°
JSONArray jsonArray = (JSONArray) jsonObject.get("address");

for(Object item : jsonArray) {

  JSONObject objAddress = (JSONObject) item;

  String data1 = (String) objAddress.get("data1").toString(); //í‚¤: data1
  String data2 = (String) objAddress.get("data2").toString(); //í‚¤: data2

}

``` 


### í•¸ë“¤ë§ (org.json íŒ¨í‚¤ì§€)
```java
import org.json.JSONObject;
import org.json.JSONArray;

String strJsonStr = [ì œì´ìŠ¨ë°ì´í„°];

JSONParser parser = new JSON parser();
JSONObject jsonObject = (JSONObject) parser.parse(strJsonStr);


// (2depth) ë°°ì—´ í•¸ë“¤ë§ ì‹œì‘
JSONArray jsonArray = new JSONArray(jsonObject.get("result").toString);

/* ì‘ì„±ì¤‘
String[] temp = (String[]) jsonArray.toList().toArray(new String[0]);
for(String value: temp) {
    System.out.println(key + "," + newJsonObject.getString(key));
}

// ë°©ë²•1
for(int i=0; i<jsonArray.length(); i++) {
    JSONObject newjsonObject = jsonArray.getJsonObject(i);

    for(String key: newJsonObject.keySey) {
        System.out.println(key + "," + newJsonObject.getString(key));
    }
}
*/
``` 

> â—***ì„¤ëª…***  
> ğŸ’¡ 2depth í˜•íƒœì´ë‹¤.  
> ğŸ’¡ ë¹„êµì  ê°„ë‹¨í•œ í˜•íƒœì´ë‹¤. 
> ğŸ’¡ ìœ„ ê°ì²´ë¡œ ë£¨í”„ ëŒë©´ì„œ ë°ì´í„° í•¸ë“¤ë§í•˜ë©´ ëì´ë‹¤.
> ğŸ’¡ ì´ëŸ° ê°„ë‹¨í•œ ë°ì´í„°ëŠ” ë”°ë¡œ VO(DTO)ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ì»¨ë²„íŠ¸ í•  í•„ìš”ëŠ” ì—†ë‹¤.     



## JSON êµ¬ì¡°ê°€ ë§¤ìš° ë³µì¡í•œ ê²½ìš° (ë°°ì—´,obj ë¡œ ë–¡ì¹ )
### JSON í˜•íƒœ
```json
{
  "documnet":
  [
    "status":200,
    
    "msg":"ì„±ê³µ",
    "result": [
      {
        "data1" :"ë°ì´í„°1ì˜ ê°’ í™ê¸¸ë™",
        "data2" :"ë°ì´í„°2ì˜ ê°’ í™ê¸¸ë™ì£¼ì†Œ"
      }, 
      {
        "data1" :"ë°ì´í„°1ì˜ ê°’ ê¹€ê¸¸ë™",
        "data2" :"ë°ì´í„°2ì˜ ê°’ ê¹€ê¸¸ë™ì£¼ì†Œ"
      }, 
    ],
    "language": [
      {
        "ì–¸ì–´" :"ì¼ë³¸ì–´",
        "ì–¸ì–´1" : "íˆë¼ê°€ë‚˜", 
        "ì–¸ì–´2" : "ì¹´íƒ€ì¹´ë‚˜", 
      },
      {
        "ì–¸ì–´" :"ì¤‘êµ­ì–´",
        "ì–¸ì–´1" : "ê°„ì²´", 
        "ì–¸ì–´2" : "ë²ˆì²´", 
      }
    ]
  ]
}

```

> â—***ì„¤ëª…***  
> ğŸ’¡ ì•„ê¹Œì „ì—ëŠ” ë°°ì—´ í˜•íƒœì˜ ê°ì²´ê°€ í•œê°œì˜€ì§€ë§Œ.. ë³µì¡í•˜ê²Œ ì¶”ê°€ë˜ì—ˆë‹¤.  
> ğŸ’¡ ë³µì¡í•˜ê³  ë°ì´í„° ì¤‘ê°„ì— ë¦¬ìŠ¤íŠ¸ì´ê±°ë‚˜ , object í˜• ë°ì´í„°ê°€ ë¼ì–´ ìˆìœ¼ë©´ ë§‰ë§‰í•˜ë‹¤.  


### ê¸°ì¡´ ë°©ë²•ëŒ€ë¡œ ì²˜ë¦¬ì‹œ
```java
import org.json.JSONArray;
import org.json.JSONObject;

public class JsonProcessingExample {
    public static void main(String[] args) {
        String jsonStr = "JSON ë°ì´í„° ë¬¸ìì—´"; // JSON ë°ì´í„° ë¬¸ìì—´ì„ ì—¬ê¸°ì— ì…ë ¥í•˜ì„¸ìš”

        JSONObject jsonData = new JSONObject(jsonStr);
        JSONArray documentArray = jsonData.getJSONArray("documnet");  // ë°°ì—´ JSONê°ì²´ GET

        // ë°°ì—´ JSONê°ì²´ ë‚´ë¶€ë¥¼ ë°˜ë³µ
        for (Object docData : documentArray) {
            JSONObject doc = (JSONObject) docData;

            int status = doc.getInt("status");
            String msg = doc.getString("msg");

            System.out.println("Status: " + status);
            System.out.println("Message: " + msg);

            JSONArray resultArray = doc.getJSONArray("result");  // ë˜ ë°°ì—´ JSONê°ì²´ GET
            for (Object resultData : resultArray) {
                JSONObject result = (JSONObject) resultData;
                String data1 = result.getString("data1");
                String data2 = result.getString("data2");

                System.out.println("Data 1: " + data1);
                System.out.println("Data 2: " + data2);
            }

            JSONArray languageArray = doc.getJSONArray("language");  // ë˜ ë°°ì—´ JSONê°ì²´ GET
            for (Object langData : languageArray) {
                JSONObject lang = (JSONObject) langData;
                String language = lang.getString("ì–¸ì–´");
                String lang1 = lang.getString("ì–¸ì–´1");
                String lang2 = lang.getString("ì–¸ì–´2");

                System.out.println("ì–¸ì–´: " + language);
                System.out.println("ì–¸ì–´1: " + lang1);
                System.out.println("ì–¸ì–´2: " + lang2);
            }
        }
    }
}

```

> â—***ì´ ì½”ë“œëŠ” ì‚¬ìš© ë¶ˆê°€ëŠ¥!***  
> ğŸ’¡ ë£¨íŠ¸ì— document ë°°ì—´ë¡œ ê°ì‹¸ì ¸ìˆìœ¼ë¯€ë¡œ ì ‘ê·¼ í•˜ë ¤ë©´ ë˜ ì•„ë˜ì™€ ê°™ì´ ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ì ‘ê·¼í•´ì•¼í•œë‹¤.
>   
> ```java
> JSONArray jsonArray = new JSONArray(jsonObject.get("document").toString);
> ```
>   
> ğŸ’¡ ìœ„ì—ì„œ language ì ‘ê·¼ í•˜ë ¤ë©´ ë˜ ì•„ë˜ì™€ ê°™ì´ ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ì ‘ê·¼í•´ì•¼í•œë‹¤.
>   
> ```java
> JSONArray jsonArray = new JSONArray(jsonObject.get("language").toString);
> ```
> ğŸ’¡ ë” ë³µì¡í•´ì§€ë©´ ê±°ì˜ í•¸ë“¤ë§ ë¶ˆê°€ëŠ¥í•œ ìˆ˜ì¤€ì¼ë“¯..  


### STEP2. í•´ê²°ë²•: DTO ì‚¬ìš©í•˜ê¸°

```java
private String id;
private Object template;
private Object status;
private List<Map> fieldList;

```

```java
String strJsonStr = [ì œì´ìŠ¨ë°ì´í„°];

JSONParser parser = new JSON parser();
JSONObject jsonObject = (JSONObject) parser.parse(strJsonStr);

// í…ŒìŠ¤íŠ¸
//System.out.println( jsonObject.get(result).toString());  //ì „ì²´êµ¬ì¡°ê°€ ì¶œë ¥ëœë‹¤.

// (3depth) ë°°ì—´ í•¸ë“¤ë§ ì‹œì‘
JSONArray jsonArray = new JSONArray(jsonObject.get("document").toString);


for (Object : docData : documents) {

//Object í˜• ë°ì´í„°ë¥¼ ë‹¤ì‹œ JSONObject ë¡œ ë³€í™˜í•´ì¤€ë‹¤.

    JSONObject doc = (JSONObject) docData;

   Map insertMap = new HashMap();

//   Gsonì„ ì´ìš©í•´ í˜•ë³€í™˜ ì§„í–‰ ì•„ë˜ VO ëŠ” ìœ„ì— VO ì‘ì„±í• ë•Œì˜ í´ë˜ìŠ¤ ëª…ì´ë‹¤.

   Gson gson = new Gson();

   VO documentList = gson.fromJson(doc.toString() , VO.class);

insertMap.put("documentId",documentList.getId());

â€‹

for (Map field : documentList.getFields()){

â€‹

  log.info("í•„ë“œ id ê°’:"+(String) field.get("id"));

  log.info("í•„ë“œ type ê°’:"(String) field.get("type"));

  log.info("í•„ë“œ value ê°’:"+(String) field.get("value"));

â€‹

   }

```










## í•¸ë“¤ë§ ê¸°ë³¸ê°œë…  
```json
{
  "status":200,
  "msg":"ì„±ê³µ",
  "result": [
    {
      "data1" :"ë°ì´í„°1ì˜ ê°’ í™ê¸¸ë™",
      "data2" :"ë°ì´í„°2ì˜ ê°’ í™ê¸¸ë™ì£¼ì†Œ"
    }, 
    {
      "data1" :"ë°ì´í„°1ì˜ ê°’ ê¹€ê¸¸ë™",
      "data2" :"ë°ì´í„°2ì˜ ê°’ ê¹€ê¸¸ë™ì£¼ì†Œ"
    }, 
  ]
}

```
> â—***ìœ„ì™€ ê°™ì€ ë°ì´í„°í„°ê°€ ìˆë‹¤ê³  ê°€ì •***  
>  
> â—***ìì£¼ ì‚¬ìš©í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬***  
> ğŸ’¡ org.json ë¼ì´ë¸ŒëŸ¬ë¦¬  
> ğŸ’¡ org.json.simple ë¼ì´ë¸ŒëŸ¬ë¦¬  
> ğŸ’¡ gson ë¼ì´ë¸ŒëŸ¬ë¦¬  



## JSON to Array
> â—***ì„¤ëª…***  
> ğŸ’¡ ì´ ë¡œì§ì€ JSON ê°ì²´ì˜ íŠ¹ì • ì†ì„±ì´ ë°°ì—´ë¡œ ë˜ì–´ ìˆì„ ë•Œ ì‚¬ìš©  
> ğŸ’¡ JSON ë°°ì—´ì„ Java ë°°ì—´ë¡œ ë³€í™˜í•˜ì—¬ ì‚¬ìš©
>   
> â—***ë‹¨ì ***  
> ê°„ë‹¨í•˜ê³  ì§ê´€ì ì¸ ë°©ë²•ì´ì§€ë§Œ, ë°°ì—´ì˜ í¬ê¸° ë“±ì„ ì§ì ‘ ë‹¤ë£¨ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì¡°ê¸ˆ ë” ìˆ˜ë™ì ì¸ ì ‘ê·¼ì´ í•„ìš”.  
  
ë§Œì•½ JSON ë°ì´í„°ë¥¼ ê°„ë‹¨íˆ ë‹¤ë£¨ê³ ì í•œë‹¤ë©´ ì´ ë¡œì§ì´ ë” íš¨ê³¼ì   
{: .notice--info}


### CASE1. ê¸°ë³¸
```java
import org.json.JSONArray;
import org.json.JSONObject;

public class JsonArrayToJavaArray {
    public static void main(String[] args) {
        String jsonString = "[1, 2, 3, 4, 5]";
        JSONArray jsonArray = new JSONArray(jsonString);

        // JSONArrayë¥¼ Java ë°°ì—´ë¡œ ë³€í™˜
        Integer[] javaArray = (Integer[]) jsonArray.toList().toArray(new Integer[0]);

        // Java ë°°ì—´ ì¶œë ¥
        for (Integer value : javaArray) {
            System.out.println(value);
        }
    }
}

```

> â—***ì¥ì ***  
>   
> ```java
> JSONArray jsonArray = new JSONArray(jsonString);
> ```
>    
> ğŸ’¡ ìœ„ ê°ì²´ë¡œ ë£¨í”„ ëŒë©´ì„œ ë°ì´í„° í•¸ë“¤ë§í•˜ë©´ ëì´ë‹¤.  
> ğŸ’¡ ì´ëŸ° ê°„ë‹¨í•œ ë°ì´í„°ëŠ” ë”°ë¡œ VO(DTO)ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ì»¨ë²„íŠ¸ í•  í•„ìš”ëŠ” ì—†ë‹¤.  
>  
> â—***ìì£¼ ì‚¬ìš©í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬***  
> ğŸ’¡ org.json ë¼ì´ë¸ŒëŸ¬ë¦¬  
> ğŸ’¡ org.json.simple ë¼ì´ë¸ŒëŸ¬







## JSON to Map
> â—***ì„¤ëª…***  
> ğŸ’¡ ì´ ë¡œì§ì€ JSON ê°ì²´ë¥¼ Java Mapìœ¼ë¡œ ë³€í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì‚¬ìš©  
> ğŸ’¡ ë” ì¶”ìƒí™”ëœ ë°©ë²•ìœ¼ë¡œ JSON ë°ì´í„°ë¥¼ ë‹¤ë£° ìˆ˜ ìˆì–´ ê°€ë…ì„± í–¥ìƒ  
> ğŸ’¡ JSON ë°ì´í„°ë¥¼ Mapìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ì‚¬ìš©í•˜ë©´ ë‹¤ì–‘í•œ ì†ì„±ì— ì‰½ê²Œ ì ‘ê·¼ê°€ëŠ¥  
> ğŸ’¡ 
>  
> â—***ë‹¨ì ***  
> ê°„ë‹¨í•˜ê³  ì§ê´€ì ì¸ ë°©ë²•ì´ì§€ë§Œ, ë°°ì—´ì˜ í¬ê¸° ë“±ì„ ì§ì ‘ ë‹¤ë£¨ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì¡°ê¸ˆ ë” ìˆ˜ë™ì ì¸ ì ‘ê·¼ì´ í•„ìš”.  
  
ë” ë³µì¡í•œ êµ¬ì¡°ì˜ JSON ë°ì´í„°ë¥¼ ë‹¤ë£¨ê±°ë‚˜ ê°€ë…ì„±ì„ ë†’ì´ê³ ì í•œë‹¤ë©´ ë‘ ë²ˆì§¸ ë¡œì§ì´ ìœ ìš©  
{: .notice--info}

### STEP1. ì‘ì„±ì¤‘
jsonToMap(jsonObject); ë¡œì§
