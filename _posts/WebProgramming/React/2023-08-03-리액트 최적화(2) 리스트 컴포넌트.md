---
title:  "ë¦¬ì•¡íŠ¸ ìµœì í™”(2) ë¦¬ìŠ¤íŠ¸ ì»´í¬ë„ŒíŠ¸"
excerpt: "ë¦¬ì•¡íŠ¸ ìµœì í™”(2) ë¦¬ìŠ¤íŠ¸ ì»´í¬ë„ŒíŠ¸ ì…ë‹ˆë‹¤."

categories:
  - react
tags:
  - [react]

toc: true
toc_sticky: true

last_modified_at: 2023-08-03T09:00:00-18:00:00
---


## ë¦¬ìŠ¤íŠ¸ ì»´í¬ë„ŒíŠ¸ ìµœì í™”

## í˜„ì¬ì½”ë“œ
### ScheduleBoard.js
```js
import React, { useRef, useState, useCallback } from 'react';
import TodoTemplate from './TodoTemplate';
import TodoInsert from './TodoInsert';
import TodoList from './TodoList';

function createBulkTodos() {
    const array = [];
    for(let i=1; i<2500; i++) {
        array.push( { id: i, text: `í•  ì¼ ${i}`, checked: false } );
    }

    return array;
}

const ScheduleBoard = () => {

    const [todos, setTodos] = useState(createBulkTodos);

    const nextId = useRef(todos.length);

    // ì‚½ì…
    // ê°±ì‹  ë˜ì§€ì§€ì•Šì§€ë§Œ ì ‘ê·¼ ë°©ë²•ì„ ìì‹ì»´í¬ë„ŒíŠ¸ì—ì„œ ë¯¸ë¦¬ useMemo í•´ë†¨ë‹¤. ê·¸ë˜ì„œ ì˜¤ë²„í—¤ë“œëŠ” ì—†ë‹¤.
    const onInsert = useCallback( (text) => {
        const temp = {
            id: nextId.current += 1
            , text: text
            , checked: false
        };
        setTodos(todos.concat(temp));
    }, []);

    // ì‚­ì œ
    const onRemove = useCallback( (id) => {
        setTodos(todos => (todos.filter((todo) => todo.id !== id)));
    }, []);

    // í† ê¸€
    const onToggle = useCallback( (id) => {
        setTodos(todos => ( 
                            todos.map((todo) => 
                                todo.id === id ? { ...todo, checked: !todo.checked } : todo,
                            )
        ));
            
    }, []);
    
    return (
        <div>
            <h1>ScheduleBoard Page</h1>

            <TodoTemplate>
                <TodoInsert onInsert={onInsert} />
                <TodoList todos={todos} onRemove={onRemove} onToggle={onToggle} />
            </TodoTemplate>
        </div>

    );
};

export default ScheduleBoard;

```

> â—***ì´ì „ í¬ìŠ¤íŒ… ì²˜ëŸ¼ ìµœì í™”ê°€ ëœ ìƒíƒœì´ë‹¤.***  
> ğŸ’¡ ì—¬ê¸°ì„œ ë¦¬ìŠ¤íŠ¸ë¥¼ ë Œë”ë§í•˜ëŠ” <TodoList /> ë¥¼ ì§‘ì¤‘í•´ì„œ ë³´ì.  
> ğŸ’¡ ë“±ë¡ëœ props ëŠ” [todos], [onRemove], [onTogle] ì´ë‹¤.  
>   
> â—í˜„ì¬ ë¦¬ë Œë”ë§ ì¡°ê±´  
> ğŸ’¡ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì˜ ë¦¬ë Œë”ë§  
> ğŸ’¡ todos ìƒíƒœ ë³€ê²½  
> ğŸ’¡ onInsert, onRemove, onToggle í•¨ìˆ˜ì˜ ë³€ê²½ ì‹œì ì— ë¦¬ë Œë”ë§  
>  
> â—í˜„ì¬ ë¦¬ë Œë”ë§ ì¡°ê±´  
> ğŸ’¡ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì˜ ë¦¬ë Œë”ë§  
> ğŸ’¡ todos ìƒíƒœ ë³€ê²½  
> ğŸ’¡ onInsert, onRemove, onToggle í•¨ìˆ˜ì˜ ë³€ê²½ ì‹œì ì— ë¦¬ë Œë”ë§  




### ScheduleBoard.js

- AS-IS

    ```js
    import TodoListItem from './TodoListItem';
    import '../TodoList.scss';

    const TodoList = ({ todos, onRemove, onToggle }) => {

        return (
            // ë¦¬ìŠ¤íŠ¸ ìƒì„¸ ì»´í¬ë„ŒíŠ¸
            <div className="TodoList">
                {todos.map(todo => (
                    <TodoListItem
                        todo={todo}
                        key={todo.id}
                        onRemove={onRemove}
                        onToggle={onToggle}
                    />
                ))}
            </div>

        );
    };

    export default TodoList;
    
    ```

- TO-BE   

    ```js
    import React from 'react';
    import TodoListItem from './TodoListItem';
    import '../TodoList.scss';

    const TodoList = ({ todos, onRemove, onToggle }) => {

        return (
            // ë¦¬ìŠ¤íŠ¸ ìƒì„¸ ì»´í¬ë„ŒíŠ¸
            <div className="TodoList">
                {todos.map(todo => (
                    <TodoListItem
                        todo={todo}
                        key={todo.id}
                        onRemove={onRemove}
                        onToggle={onToggle}
                    />
                ))}
            </div>

        );
    };

    export default React.memo(TodoList);  // React.Memo ì‚¬ìš©
    
    ```

> â—***ë¦¬ìŠ¤íŠ¸ ì»´í¬ë„ŒíŠ¸ ìµœì í™”***  
> ğŸ’¡ ë¦¬ìŠ¤íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ë¦¬ìŠ¤íŠ¸ ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë„ ìµœì í™” í•´ì•¼í•œë‹¤.  
> ğŸ’¡ ë¦¬ìŠ¤íŠ¸ëŠ” ë°˜ë³µì ìœ¼ë¡œ ìƒì„±ë˜ê¸° ë•Œë¬¸ì´ë‹¤. (ê°±ì‹ ì´ ê³„ì† ì¼ì–´ë‚œë‹¤.)  
>   
> â—***ì´ ì½”ë“œì—ì„œëŠ” ì˜í–¥ì´ ì—†ë‹¤.***  
> ğŸ’¡ ì²˜ë¦¬í•´ì¤˜ì„œ ë‚˜ìœê±´ ì—†ì§€ë§Œ ë°˜ì˜í•´ë„ ì˜í–¥ì´ ì—†ë‹¤.  
> ğŸ’¡ í˜„ì¬ ë¶€ëª¨ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë˜ëŠ” ìœ ì¼í•œ ì´ìœ ê°€ todos ë°°ì—´ì´ ì—…ë°ì´íŠ¸ ë ë•Œ ìˆ˜í–‰ë˜ê¸° ë•Œë¬¸ì´ë‹¤.  


